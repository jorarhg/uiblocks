{"version":3,"file":"date-formatter.jsx","sourceRoot":"","sources":["date-formatter.tsx"],"names":[],"mappings":"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","sourcesContent":["\nimport React from 'react'\nimport { FormatterFunction } from '@/types/formatters'\n\n/**\n * Formatter para fechas con múltiples opciones de formato\n */\nexport const DateFormatter: FormatterFunction = ({ value, field }) => {\n  const options = field.formatter?.options\n  \n  if (!value) {\n    return {\n      content: <span className=\"text-muted-foreground\">-</span>\n    }\n  }\n  \n  const date = new Date(value)\n  if (isNaN(date.getTime())) {\n    return {\n      content: <span className={options?.className}>{value}</span>\n    }\n  }\n  \n  let formattedDate: string\n  const locale = options?.locale || 'es-ES'\n  \n  switch (options?.format) {\n    case 'short':\n      formattedDate = date.toLocaleDateString(locale)\n      break\n      \n    case 'medium':\n      formattedDate = date.toLocaleDateString(locale, { \n        year: 'numeric', \n        month: 'short', \n        day: 'numeric' \n      })\n      break\n      \n    case 'long':\n      formattedDate = date.toLocaleDateString(locale, { \n        year: 'numeric', \n        month: 'long', \n        day: 'numeric',\n        weekday: 'long'\n      })\n      break\n      \n    case 'relative':\n      formattedDate = formatRelativeDate(date)\n      break\n      \n    case 'custom':\n      formattedDate = formatCustomDate(date, options?.customFormat || 'DD/MM/YYYY')\n      break\n      \n    default: // 'iso'\n      formattedDate = date.toISOString().split('T')[0]\n  }\n  \n  return {\n    content: (\n      <span \n        className={options?.className}\n        title={date.toLocaleString(locale)}\n      >\n        {formattedDate}\n      </span>\n    ),\n    style: options?.style\n  }\n}\n\n/**\n * Formatea una fecha de manera relativa (ej: \"hace 2 días\")\n */\nfunction formatRelativeDate(date: Date): string {\n  const now = new Date()\n  const diffInMilliseconds = now.getTime() - date.getTime()\n  const diffInDays = Math.floor(diffInMilliseconds / (1000 * 60 * 60 * 24))\n  \n  if (diffInDays === 0) return 'Hoy'\n  if (diffInDays === 1) return 'Ayer'\n  if (diffInDays === -1) return 'Mañana'\n  if (diffInDays > 1 && diffInDays <= 7) return `Hace ${diffInDays} días`\n  if (diffInDays < -1 && diffInDays >= -7) return `En ${Math.abs(diffInDays)} días`\n  \n  // Para fechas más lejanas, usar formato corto\n  return date.toLocaleDateString('es-ES')\n}\n\n/**\n * Formatea una fecha con un patrón personalizado\n */\nfunction formatCustomDate(date: Date, pattern: string): string {\n  const day = date.getDate().toString().padStart(2, '0')\n  const month = (date.getMonth() + 1).toString().padStart(2, '0')\n  const year = date.getFullYear().toString()\n  const shortYear = year.slice(-2)\n  \n  const hours = date.getHours().toString().padStart(2, '0')\n  const minutes = date.getMinutes().toString().padStart(2, '0')\n  const seconds = date.getSeconds().toString().padStart(2, '0')\n  \n  const monthNames = [\n    'Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio',\n    'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'\n  ]\n  \n  const monthNamesShort = [\n    'Ene', 'Feb', 'Mar', 'Abr', 'May', 'Jun',\n    'Jul', 'Ago', 'Sep', 'Oct', 'Nov', 'Dic'\n  ]\n  \n  return pattern\n    .replace(/YYYY/g, year)\n    .replace(/YY/g, shortYear)\n    .replace(/MMMM/g, monthNames[date.getMonth()])\n    .replace(/MMM/g, monthNamesShort[date.getMonth()])\n    .replace(/MM/g, month)\n    .replace(/M/g, (date.getMonth() + 1).toString())\n    .replace(/DD/g, day)\n    .replace(/D/g, date.getDate().toString())\n    .replace(/HH/g, hours)\n    .replace(/H/g, date.getHours().toString())\n    .replace(/mm/g, minutes)\n    .replace(/m/g, date.getMinutes().toString())\n    .replace(/ss/g, seconds)\n    .replace(/s/g, date.getSeconds().toString())\n}\n"]}